{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../shared/products.service\";\nexport class FormProductsComponent {\n  constructor(formBuilder, productService) {\n    this.formBuilder = formBuilder;\n    this.productService = productService;\n    this.nameValue = '';\n    this.descriptionValue = '';\n    this.priceValue = 0;\n    this.categoriaValue = '';\n    this.onSaleValue = false;\n    this.productForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      price: [0, [Validators.required, Validators.min(0)]],\n      categoria: ['', Validators.required],\n      onSale: [false],\n      image: [null, Validators.required]\n    });\n  }\n  onSubmit() {\n    if (this.productForm.valid) {\n      const newProduct = this.productForm.value;\n      this.productService.addProduct(newProduct).subscribe(response => {\n        console.log('Product added successfully', response);\n        this.productForm.reset(); // Resetea el formulario\n      }, error => {\n        console.error('Error adding product', error);\n      });\n    } else {\n      console.error('Invalid form');\n    }\n  }\n  onImageSelected(event) {\n    // Implement your image selection logic here\n  }\n  static #_ = this.ɵfac = function FormProductsComponent_Factory(t) {\n    return new (t || FormProductsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProductService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormProductsComponent,\n    selectors: [[\"app-form-products\"]],\n    decls: 27,\n    vars: 1,\n    consts: [[\"enctype\", \"multipart/form-data\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"name\"], [\"id\", \"name\", \"formControlName\", \"name\", \"type\", \"text\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\", \"type\", \"text\"], [\"for\", \"price\"], [\"id\", \"price\", \"formControlName\", \"price\", \"type\", \"number\"], [\"for\", \"categoria\"], [\"id\", \"categoria\", \"formControlName\", \"categoria\", \"type\", \"text\"], [\"for\", \"onSale\"], [\"id\", \"onSale\", \"formControlName\", \"onSale\", \"type\", \"checkbox\"], [\"for\", \"image\"], [\"id\", \"image\", \"type\", \"file\", 3, \"change\"], [\"type\", \"submit\"]],\n    template: function FormProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function FormProductsComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"div\")(2, \"label\", 1);\n        i0.ɵɵtext(3, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"input\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"label\", 3);\n        i0.ɵɵtext(7, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\")(10, \"label\", 5);\n        i0.ɵɵtext(11, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\")(14, \"label\", 7);\n        i0.ɵɵtext(15, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\")(18, \"label\", 9);\n        i0.ɵɵtext(19, \"On Sale\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\")(22, \"label\", 11);\n        i0.ɵɵtext(23, \"Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"input\", 12);\n        i0.ɵɵlistener(\"change\", function FormProductsComponent_Template_input_change_24_listener($event) {\n          return ctx.onImageSelected($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"button\", 13);\n        i0.ɵɵtext(26, \"Submit\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n      }\n    },\n    dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3JtLXByb2R1Y3RzLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9Db250ZW5pZG9zL2Zvcm0tcHJvZHVjdHMvZm9ybS1wcm9kdWN0cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;AASnE,OAAM,MAAOC,qBAAqB;EAQ9BC,YAAoBC,WAAwB,EAAUC,cAA8B;IAAhE,gBAAW,GAAXD,WAAW;IAAuB,mBAAc,GAAdC,cAAc;IANpE,cAAS,GAAW,EAAE;IACtB,qBAAgB,GAAW,EAAE;IAC7B,eAAU,GAAW,CAAC;IACtB,mBAAc,GAAW,EAAE;IAC3B,gBAAW,GAAY,KAAK;IAGxB,IAAI,CAACC,WAAW,GAAG,IAAI,CAACF,WAAW,CAACG,KAAK,CAAC;MACtCC,IAAI,EAAE,CAAC,EAAE,EAAEP,UAAU,CAACQ,QAAQ,CAAC;MAC/BC,WAAW,EAAE,CAAC,EAAE,EAAET,UAAU,CAACQ,QAAQ,CAAC;MACtCE,KAAK,EAAE,CAAC,CAAC,EAAE,CAACV,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACpDC,SAAS,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACQ,QAAQ,CAAC;MACpCK,MAAM,EAAE,CAAC,KAAK,CAAC;MACfC,KAAK,EAAE,CAAC,IAAI,EAAEd,UAAU,CAACQ,QAAQ;KACpC,CAAC;EACN;EAEAO,QAAQ;IACJ,IAAI,IAAI,CAACV,WAAW,CAACW,KAAK,EAAE;MACxB,MAAMC,UAAU,GAAiB,IAAI,CAACZ,WAAW,CAACa,KAAK;MACvD,IAAI,CAACd,cAAc,CAACe,UAAU,CAACF,UAAU,CAAC,CAACG,SAAS,CAChDC,QAAQ,IAAG;QACPC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,QAAQ,CAAC;QACnD,IAAI,CAAChB,WAAW,CAACmB,KAAK,EAAE,CAAC,CAAC;MAE9B,CAAC,EACDC,KAAK,IAAG;QACJH,OAAO,CAACG,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAChD,CAAC,CACJ;KACJ,MAAM;MACHH,OAAO,CAACG,KAAK,CAAC,cAAc,CAAC;;EAErC;EAEAC,eAAe,CAACC,KAAU;IACtB;EAAA;EACH;qBAvCQ1B,qBAAqB;EAAA;EAAA;UAArBA,qBAAqB;IAAA2B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCVlCC,+BAAsF;QAAtDA;UAAA,OAAYC,cAAU;QAAA,EAAC;QACnDD,2BAAK;QACeA,oBAAI;QAAAA,iBAAQ;QAC9BA,2BAAoD;QACtDA,iBAAM;QACNA,2BAAK;QACsBA,2BAAW;QAAAA,iBAAQ;QAC5CA,2BAAkE;QACpEA,iBAAM;QACNA,2BAAK;QACgBA,sBAAK;QAAAA,iBAAQ;QAChCA,4BAAwD;QAC1DA,iBAAM;QACNA,4BAAK;QACoBA,yBAAQ;QAAAA,iBAAQ;QACvCA,4BAA8D;QAChEA,iBAAM;QACNA,4BAAK;QACiBA,wBAAO;QAAAA,iBAAQ;QACnCA,6BAA4D;QAC9DA,iBAAM;QACNA,4BAAK;QACgBA,sBAAK;QAAAA,iBAAQ;QAChCA,kCAAiE;QAAnCA;UAAA,OAAUC,2BAAuB;QAAA,EAAC;QAAhED,iBAAiE;QAEnEA,mCAAsB;QAAAA,uBAAM;QAAAA,iBAAS;;;QAzBnCA,2CAAyB","names":["Validators","FormProductsComponent","constructor","formBuilder","productService","productForm","group","name","required","description","price","min","categoria","onSale","image","onSubmit","valid","newProduct","value","addProduct","subscribe","response","console","log","reset","error","onImageSelected","event","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["E:\\Angular2\\CRUD-MySQL-Express-Angular\\crud_angular\\src\\app\\components\\Contenidos\\form-products\\form-products.component.ts","E:\\Angular2\\CRUD-MySQL-Express-Angular\\crud_angular\\src\\app\\components\\Contenidos\\form-products\\form-products.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ProductService } from '../../../shared/products.service';\r\nimport { ProductModel } from '../../../shared/products.model'; // Importa el modelo correcto\r\n\r\n@Component({\r\n    selector: 'app-form-products',\r\n    templateUrl: './form-products.component.html',\r\n    styleUrls: ['./form-products.component.css']\r\n})\r\nexport class FormProductsComponent {\r\n    productForm: FormGroup;\r\n    nameValue: string = ''; \r\n    descriptionValue: string = ''; \r\n    priceValue: number = 0; \r\n    categoriaValue: string = ''; \r\n    onSaleValue: boolean = false; \r\n\r\n    constructor(private formBuilder: FormBuilder, private productService: ProductService) { // Asegúrate de inyectar el servicio aquí\r\n        this.productForm = this.formBuilder.group({\r\n            name: ['', Validators.required],\r\n            description: ['', Validators.required],\r\n            price: [0, [Validators.required, Validators.min(0)]],\r\n            categoria: ['', Validators.required],\r\n            onSale: [false],\r\n            image: [null, Validators.required],\r\n        });\r\n    }\r\n\r\n    onSubmit() {\r\n        if (this.productForm.valid) {\r\n            const newProduct: ProductModel = this.productForm.value;\r\n            this.productService.addProduct(newProduct).subscribe(\r\n                response => {\r\n                    console.log('Product added successfully', response);\r\n                    this.productForm.reset(); // Resetea el formulario\r\n\r\n                },\r\n                error => {\r\n                    console.error('Error adding product', error);\r\n                }\r\n            );\r\n        } else {\r\n            console.error('Invalid form');\r\n        }\r\n    }\r\n\r\n    onImageSelected(event: any) {\r\n        // Implement your image selection logic here\r\n    }\r\n}\r\n","<form [formGroup]=\"productForm\" (ngSubmit)=\"onSubmit()\" enctype=\"multipart/form-data\">\r\n    <div>\r\n      <label for=\"name\">Name</label>\r\n      <input id=\"name\" formControlName=\"name\" type=\"text\">\r\n    </div>\r\n    <div>\r\n      <label for=\"description\">Description</label>\r\n      <input id=\"description\" formControlName=\"description\" type=\"text\">\r\n    </div>\r\n    <div>\r\n      <label for=\"price\">Price</label>\r\n      <input id=\"price\" formControlName=\"price\" type=\"number\">\r\n    </div>\r\n    <div>\r\n      <label for=\"categoria\">Category</label>\r\n      <input id=\"categoria\" formControlName=\"categoria\" type=\"text\">\r\n    </div>\r\n    <div>\r\n      <label for=\"onSale\">On Sale</label>\r\n      <input id=\"onSale\" formControlName=\"onSale\" type=\"checkbox\">\r\n    </div>\r\n    <div>\r\n      <label for=\"image\">Image</label>\r\n      <input id=\"image\" type=\"file\" (change)=\"onImageSelected($event)\">\r\n    </div>\r\n    <button type=\"submit\">Submit</button>\r\n  </form>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}